<?php
$headerTitle = $this->translate('title.user-add', 'admin');
if ($this->params()->fromRoute('isEditMode') == true) {
    $headerTitle = $this->translate('title.user-edit', 'admin') . ' - ' . $this->user->getEmail();
}
?>
<?= $this->pageHeader($headerTitle, 'fa fa-user') ?>
<div class="wrapper-md">
    <form class="form-horizontal" role="form" action="<?= $this->url(null, [], [], true) ?>" method="post">
        <div class="panel b-a">
            <div class="panel-body">
                <?= $this->form($this->createEditForm)?>
            </div>
            <div class="panel-footer">
                <div class="form-group">
                    <div class="col-sm-offset-2 col-md-10">
                        <submit submit-text="<?= $this->translate('button.save', 'admin') ?>"></submit>

                        <?php if($this->params()->fromRoute('isEditMode') == true && $this->permission('admin42')->isGranted('route/admin/user/delete')): ?>
                            <delete
                                url="<?= $this->url('admin/user/delete') ?>"
                                title="<?= $this->translate("user.modal.delete.title", "admin") ?>"
                                content="<?= $this->translate("user.modal.delete.content", "admin") ?>"
                                request-id="<?= $this->params()->fromRoute("id") ?>"
                                >
                            </delete>
                        <?php endif; ?>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
