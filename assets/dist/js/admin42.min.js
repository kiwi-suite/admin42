angular.module("admin42",["ui.bootstrap","ngAnimate","ui.utils","smart-table"]),angular.module("admin42").directive("uiFullscreen",["$document",function($document){return{restrict:"AC",template:'<i class="fa fa-expand fa-fw text"></i><i class="fa fa-compress fa-fw text-active"></i>',link:function(scope,el,attr){el.addClass("hide"),screenfull.enabled&&!navigator.userAgent.match(/Trident.*rv:11\./)&&el.removeClass("hide"),el.on("click",function(){var target;attr.target&&(target=$(attr.target)[0]),screenfull.toggle(target)}),$document.on(screenfull.raw.fullscreenchange,function(){screenfull.isFullscreen?el.addClass("active"):el.removeClass("active")})}}}]),angular.module("admin42").directive("uiNav",[function(){return{restrict:"AC",link:function(scope,el){var next,_window=$(window),_mb=768,wrap=$(".app-aside"),backdrop=".dropdown-backdrop";el.on("click","a",function(e){next&&next.trigger("mouseleave.nav");var _this=$(this);_this.parent().siblings(".active").toggleClass("active"),_this.next().is("ul")&&_this.parent().toggleClass("active")&&e.preventDefault(),_this.next().is("ul")||_window.width()<_mb&&$(".app-aside").removeClass("show off-screen")}),el.on("mouseenter","a",function(e){if(next&&next.trigger("mouseleave.nav"),$("> .nav",wrap).remove(),!(!$(".app-aside-fixed.app-aside-folded").length||_window.width()<_mb||$(".app-aside-dock").length)){var top,_this=$(e.target),w_h=$(window).height(),offset=50,min=150;!_this.is("a")&&(_this=_this.closest("a")),_this.next().is("ul")&&(next=_this.next(),_this.parent().addClass("active"),top=_this.parent().position().top+offset,next.css("top",top),top+next.height()>w_h&&next.css("bottom",0),top+min>w_h&&next.css("bottom",w_h-top-offset).css("top","auto"),next.appendTo(wrap),next.on("mouseleave.nav",function(){$(backdrop).remove(),next.appendTo(_this.parent()),next.off("mouseleave.nav").css("top","auto").css("bottom","auto"),_this.parent().removeClass("active")}),$(".smart").length&&$('<div class="dropdown-backdrop"/>').insertAfter(".app-aside").on("click",function(next){next&&next.trigger("mouseleave.nav")}))}}),wrap.on("mouseleave",function(){next&&next.trigger("mouseleave.nav"),$("> .nav",wrap).remove()})}}}]),angular.module("admin42").controller("AppController",["$scope",function($scope){$scope.app={settings:{asideFolded:!1}}}]),angular.module("admin42").controller("DataGridController",["$scope",function($scope){function generateRandomItem(){return{id:Math.floor(30*Math.random()),email:"payer"+Math.floor(20*Math.random())+"@raum42.at"}}$scope.collection=[],$scope.isLoading=!0,$scope.itemsByPage=2,$scope.callServer=function(tableState){$scope.isLoading=!1,$scope.collection=[];for(var j=0;2>j;j++)$scope.collection.push(generateRandomItem());tableState.pagination.numberOfPages=7}}]),angular.module("admin42").controller("NotificationController",["$scope","$interval","$http","$attrs",function($scope,$interval,$http,$attrs){var notificationUrl=$attrs.notificationUrl,updateNotifications=function(){$http.get(notificationUrl).success(function(data){$scope.notifications=data}).error(function(){$scope.notifications=[]})};$scope.notifications=[],$interval(updateNotifications,3e4),updateNotifications(),$scope.clearNotifications=function(clearUrl){$http.post(clearUrl).success(function(){$scope.notifications=[]}).error(function(){})}}]);